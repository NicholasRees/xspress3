<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>xspress3api: Lower level functions used internally which can used to get more detailed control.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<h1>Lower level functions used internally which can used to get more detailed control.</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaf03ad00e9c7b24268fb382d20b898c64">xsp3_do_config</a> (int ncards, int num_tf, char *baseIPaddress, int basePort, char *baseMACaddress, int num_chan, int create_module, char *modname, int debug, int card_index)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure the complete xspress3 system.  <a href="#gaf03ad00e9c7b24268fb382d20b898c64"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga27e4de21e68fd610805127548f080c42">xsp3_config_tcp</a> (char femHostName[][XSP3_MAX_IP_CHARS], int femPort, int ncards, int num_chan, int debug)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure the xspress3 system and create a 1Gb TCP socket link to each card in the system.  <a href="#ga27e4de21e68fd610805127548f080c42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga988818fa0740d4b7745744c85ae7d04b">xsp3_set_num_chan</a> (int path, int num_chan)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of channels to be used in system.  <a href="#ga988818fa0740d4b7745744c85ae7d04b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga4fd547d1adbe84f1a9c34d38ce560171">xsp3_resolve_path</a> (int path, int chan, int *thisPath, int *chanIdx)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine which card and consequently the handle, a particular channel is configured on and the channel number within that card, given the top level system handle and the channel number.  <a href="#ga4fd547d1adbe84f1a9c34d38ce560171"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga23ffd1ca73a7da07ece9ba946d164099">xsp3_set_trigger_regs_b</a> (int path, int chan, u_int32_t trigb_thres, u_int32_t trigb_timea, u_int32_t trigb_timeb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the raw trigger B registers, however the preferred method is to use <a class="el" href="group__fullcontrol.html#ga0f103d203f9279c907dcb52b81dca489">xsp3_set_trigger_b</a>.  <a href="#ga23ffd1ca73a7da07ece9ba946d164099"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga74f9acfb667911c0519e3a21ac87bd39">xsp3_set_trigger_regs_c</a> (int path, int chan, u_int32_t trigc_otd_servo, u_int32_t trigc_thres)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the raw trigger C registers, however the preferred method is to use <a class="el" href="group__fullcontrol.html#gad20cd56fd51dd1d0a963fd57933bb5cc">xsp3_set_trigger_c</a>.  <a href="#ga74f9acfb667911c0519e3a21ac87bd39"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab3adcff35b6ac8e1cfc8efc5a850f749">xsp3_set_format_reg</a> (int path, int chan, u_int32_t format)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the format register.  <a href="#gab3adcff35b6ac8e1cfc8efc5a850f749"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga6e3dc4ce3545bd26ddcf0910abaf46ed">xsp3_get_trigger_regs_b</a> (int path, int chan, u_int32_t *trigb_thres, u_int32_t *trigb_timea, u_int32_t *trigb_timeb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the raw trigger B registers, however the preferred method is to use <a class="el" href="">xsp3_get_trigger_b</a>.  <a href="#ga6e3dc4ce3545bd26ddcf0910abaf46ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga7b90e4d4c53618c67e796644e2d363dc">xsp3_get_trigger_regs_c</a> (int path, int chan, u_int32_t *trigc_otd_servo, u_int32_t *trigc_thres)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the raw trigger C registers, however the preferred method is to use <a class="el" href="">xsp3_get_trigger_c</a>.  <a href="#ga7b90e4d4c53618c67e796644e2d363dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gadd12f8dacc6c10c52eed35c34745fbbd">xsp3_get_format_reg</a> (int path, int chan, u_int32_t *format)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the format register.  <a href="#gadd12f8dacc6c10c52eed35c34745fbbd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gad5bce8052abd45b1277a69019f7c3d0d">xsp3_set_clock_control</a> (int path, int card, u_int32_t clock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the global clock control register.  <a href="#gad5bce8052abd45b1277a69019f7c3d0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaaf68c7f5a80284d95e83b7e0d98175ae">xsp3_set_scope</a> (int path, int card, u_int32_t scope_chn, u_int32_t scope_src, u_int32_t scope_nwd, u_int32_t scope_alt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the scope mode registers.  <a href="#gaaf68c7f5a80284d95e83b7e0d98175ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga45afdce5a53b9c007d8c1576a1fce269">xsp3_write_reg</a> (int path, int chan, int region, int offset, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a series of values into the region registers for all or each specified channel.  <a href="#ga45afdce5a53b9c007d8c1576a1fce269"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gae52e0e475600ca3248ed22f00f961287">xsp3_read_reg</a> (int path, int chan, int region, int offset, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a series of values from the region registers for each specified channel.  <a href="#gae52e0e475600ca3248ed22f00f961287"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gac3a849604e2f273d8390a9809f4aa472">xsp3_write_glob_reg</a> (int path, int card, int offset, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a series of values into the global region register for all or each specified card.  <a href="#gac3a849604e2f273d8390a9809f4aa472"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga562fe433b8c75c1fef5095afa4903e98">xsp3_read_glob_reg</a> (int path, int card, int offset, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a series of values from the global region register for each specified card.  <a href="#ga562fe433b8c75c1fef5095afa4903e98"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga4700d3bc0e38e134b7fa265f5d5d77b2">xsp3_read_raw_reg</a> (int path, int card, u_int32_t address, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a series of values from an address for each specified card.  <a href="#ga4700d3bc0e38e134b7fa265f5d5d77b2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaad96238e1618fbedaf17f6a9eb6b0480">xsp3_get_dma_status_block</a> (int path, int card, <a class="el" href="struct_x_s_p3___d_m_a___status_block.html">XSP3_DMA_StatusBlock</a> *statusBlock)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the status and settings of all the DMA streams.  <a href="#gaad96238e1618fbedaf17f6a9eb6b0480"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga06821195404d52220118538ca89a9a61">xsp3_write_rdma_reg</a> (int path, int card, int address, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a series of values into the UDP core registers for all or each specified card.  <a href="#ga06821195404d52220118538ca89a9a61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaeb60c914fabc7deb6559f7491c106589">xsp3_read_rdma_reg</a> (int path, int card, int address, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a series of values from the UPD core registers for each specified card.  <a href="#gaeb60c914fabc7deb6559f7491c106589"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga9a1d4d54f0d17466a303f6a958a1791e">xsp3_write_spi_reg</a> (int path, int card, int address, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a series of values into the SPI registers for all or each specified card.  <a href="#ga9a1d4d54f0d17466a303f6a958a1791e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga06923e5512ee3558c7783db8ea91854c">xsp3_read_spi_reg</a> (int path, int card, int address, int size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a series of values from the SPI registers for each specified card.  <a href="#ga06923e5512ee3558c7783db8ea91854c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga39a5829829ab90191f5f23565cf49eec">xsp3_write_soft_lut</a> (int path, int chan, int region_num, int nwords, u_int32_t *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write Software lookup table equivalent to BRAM.  <a href="#ga39a5829829ab90191f5f23565cf49eec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gabd552effcf1346a3aa3cfba84d4ad220">xsp3_read_soft_lut</a> (int path, int chan, int region_num, int nwords, u_int32_t *data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read Software lookup table equivalent to BRAM.  <a href="#gabd552effcf1346a3aa3cfba84d4ad220"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gae0dabc05a7958bbf09b2dfa1c6b9e5c2">xsp3_dma_reset</a> (int path, int card, u_int32_t stream_mask)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the DMA engines.  <a href="#gae0dabc05a7958bbf09b2dfa1c6b9e5c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga3732303049c4662e290e4d7751b3bfcd">xsp3_dma_build_desc</a> (int path, int card, u_int32_t stream, <a class="el" href="struct_x_s_p3___d_m_a___msg_build_desc.html">XSP3_DMA_MsgBuildDesc</a> *msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instruct PPC1 in the Virtex-5 to build a series of DMA descriptors.  <a href="#ga3732303049c4662e290e4d7751b3bfcd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gad7d358fba490e873fec6cc37dcf6e200">xsp3_dma_build_debug_desc</a> (int path, int card, u_int32_t stream, <a class="el" href="struct_x_s_p3___d_m_a___msg_build_debug_desc.html">XSP3_DMA_MsgBuildDebugDesc</a> *msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instruct PPC1 in the Virtex-5 to build a series of DMA descriptors for debug.  <a href="#gad7d358fba490e873fec6cc37dcf6e200"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga95a5e41b2d09974e1ffecde8f23e0f42">xsp3_dma_start</a> (int path, int card, u_int32_t stream, <a class="el" href="struct_x_s_p3___d_m_a___msg_start.html">XSP3_DMA_MsgStart</a> *msg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instruct PPC1 in the Virtex-5 to start a single DMA engine.  <a href="#ga95a5e41b2d09974e1ffecde8f23e0f42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga6c51929d3d8c4f05a5728efaf62876a8">xsp3_dma_resend</a> (int path, int card, u_int32_t stream, u_int32_t first, u_int32_t num)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Instruct PPC1 in the Virtex-5 to reset the status in an existing set of descriptors so they can be sent again.  <a href="#ga6c51929d3d8c4f05a5728efaf62876a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga9e3386d93c376e1b91ae849b7019fbec">xsp3_system_start_count_enb</a> (int path, int card, int count_enb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the xspress3 system with control over count enable in software framing mode.  <a href="#ga9e3386d93c376e1b91ae849b7019fbec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga5e0f666fa06971375345507c3678660f">xspress3FemInitialise</a> (const char *hostname, int port)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialises client connection to a FEM.  <a href="#ga5e0f666fa06971375345507c3678660f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gadd1e75115381270d1233524f5103ff9a">xspress3FemClose</a> (void *femHandle)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Closes the xspress3 client connection to a FEM/.  <a href="#gadd1e75115381270d1233524f5103ff9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaa1e2f80b0bc0671cc5b9ab2ac98c3811">xspress3FemSetInt</a> (void *femHandle, int chan, int region, int offset, u_int32_t value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform a single integer write transaction to the FEM.  <a href="#gaa1e2f80b0bc0671cc5b9ab2ac98c3811"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga3380b8923c1ea7dffcff39c513fad645">xspress3FemSetIntArray</a> (void *femHandle, int chan, int region, int offset, size_t size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write an array of integers to the FEM.  <a href="#ga3380b8923c1ea7dffcff39c513fad645"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga735917911a8007d8e950731a5ff6db24">xspress3FemPersonalityWrite</a> (void *femHandle, u_int32_t sub_command, u_int32_t stream_mask, size_t size, u_int32_t *value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Perform a write transaction to the FEM.  <a href="#ga735917911a8007d8e950731a5ff6db24"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga898079acc0db4312992a43bfe622a188">femAccessRead</a> (<a class="el" href="struct___fem_handle.html">FemHandle</a> *femHandle, u_int32_t bus, u_int32_t width, u_int32_t address, u_int32_t num, u_int8_t *payload)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute a read transaction on the connected FEM.  <a href="#ga898079acc0db4312992a43bfe622a188"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gac337e30d48552cfc829f405430a9665c">femAccessWrite</a> (<a class="el" href="struct___fem_handle.html">FemHandle</a> *femHandle, u_int32_t bus, u_int32_t width, u_int32_t address, u_int8_t *payload, u_int32_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute a write transaction on the connected FEM.  <a href="#gac337e30d48552cfc829f405430a9665c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga59a98f4c775fe7bc652e952067de11eb">femPersonalityWrite</a> (<a class="el" href="struct___fem_handle.html">FemHandle</a> *femHandle, u_int32_t subCommand, u_int32_t width, u_int32_t streamMask, u_int8_t *payload, size_t size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute a personality write transaction on the connected FEM.  <a href="#ga59a98f4c775fe7bc652e952067de11eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga085743a9fc444ddb3973060c8293d481">getMacAddressFromIP</a> (char *ipName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the MAC address corresponding to the given IP address.  <a href="#ga085743a9fc444ddb3973060c8293d481"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga0204116c22ecebdcddaba0173dddc9ae">xsp3_features_unpack</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read the features registers and expand into the features structure.  <a href="#ga0204116c22ecebdcddaba0173dddc9ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga679113a45cac3adca7274452df588759">xsp3_histogram_mkmod</a> (int path, int chan, char *root_name, int num_tf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates Data modules to store the histogram data.  <a href="#ga679113a45cac3adca7274452df588759"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga03701193b2a894c3f58f619fce0211e4">xsp3_config_histogram_udp</a> (int path, int card, char *hostIPaddress, int hostPort, char *femIPaddress, int femPort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure the upd connection between the server and the xspress3 card and subsequently initializes a thread to perform the histogramming.  <a href="#ga03701193b2a894c3f58f619fce0211e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga45bb9c52cea231d503017a105ae38c0c">xsp3_config_histogram_threads</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start event list processing threads for 1 or all cards in farm mode.  <a href="#ga45bb9c52cea231d503017a105ae38c0c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga79a7ffd818893058a5f4deb42cf420fd">xsp3_histogram_start_count_enb</a> (int path, int card, int count_enb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start system and histogramming after resetting the UDP port and frame numbers as necessary.  <a href="#ga79a7ffd818893058a5f4deb42cf420fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab4379e74d2774df62d86f22328049ed9">xsp3_histogram_is_busy</a> (int path, int chan)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if the histogarmming thread is busy or waiting for data.  <a href="#gab4379e74d2774df62d86f22328049ed9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga14d4c61c2275dfb6630d843e845145dc">xsp3_mdio_write_reg</a> (int path, int card, u_int32_t value)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write single value to MDIO firmware.  <a href="#ga14d4c61c2275dfb6630d843e845145dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gae263ad9f98d44bfb17fb70e6bfac5cca">xsp3_mdio_read_reg</a> (int path, int card, u_int32_t *reg)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read single value from MDIO firmware.  <a href="#gae263ad9f98d44bfb17fb70e6bfac5cca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MOD_IMAGE *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gad5aeb0a3b30f6406ad0333215de9035b">xsp3_mkmod</a> (char *name, u_int32_t num_x, u_int32_t num_y, char *x_lab, char *y_lab, int data_float, mh_com **mod_head)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a 2-d shared data module.  <a href="#gad5aeb0a3b30f6406ad0333215de9035b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">MOD_IMAGE3D *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga591d875119ae22b9272b9d2cb51dbf24">xsp3_mkmod3d</a> (char *name, int num_x, int num_y, int num_t, char *x_lab, char *y_lab, char *t_lab, char **labels, int data_float, mh_com **mod_head)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Make a 3-d shared data module.  <a href="#ga591d875119ae22b9272b9d2cb51dbf24"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">u_int32 *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga3739a09ce0e10a6a8e105be79640c438">xsp3_mod_get_ptr</a> (void *p, int x, int y, int t)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Calculate the pointer to a given element of a 2-d or 3-d shared data module.  <a href="#ga3739a09ce0e10a6a8e105be79640c438"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gac9208d32f8ba1dc205c60ac68fa1b4f3">xsp3_config_scaler</a> (int path)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure the scaler arrangement using the current memory allocation within the FEM.  <a href="#gac9208d32f8ba1dc205c60ac68fa1b4f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structxsp3__scope__data__module.html">XSP3ScopeModule</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga00ddc88bca74ece586493d86198b809c">xsp3_scope_mod_create</a> (char *name, int num_cards, int lwords_per_card, mh_com **mod_head, int layout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a shared data module in /dev/shm to store Scope mode data.  <a href="#ga00ddc88bca74ece586493d86198b809c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga4407975f0b1ee3ad41cc72f20760ffbb">xsp3_config_soft_scaler</a> (int path, char *mod_name, int num_tf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Build a shared data module for the software scalers.  <a href="#ga4407975f0b1ee3ad41cc72f20760ffbb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga05595151403db5ac02cbab8e4b45f4c5">xsp3_soft_scaler_clear</a> (int path, int first_chan, int first_frame, int num_chan, int num_frames)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear region of the software scalers data module.  <a href="#ga05595151403db5ac02cbab8e4b45f4c5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga746c4d9fd12495c14efcc14641a4a248">xsp3_soft_scaler_read</a> (int path, u_int32_t *dest, unsigned first_scaler, unsigned first_chan, unsigned first_t, unsigned n_scalers, unsigned n_chan, unsigned dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a block of software scaler data.  <a href="#ga746c4d9fd12495c14efcc14641a4a248"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga5b8052f13dd2f05036bb65ddd5d826f3">xsp3_set_udp_port</a> (int path, int card, int hostPort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the UDP port number.  <a href="#ga5b8052f13dd2f05036bb65ddd5d826f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gafc352186020b336e0e086684a6874f37">xsp3_config_udp</a> (int path, int card, char *femMACaddress, char *femIPaddress, int femPort, char *hostIPaddress, int hostPort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure all the parameters for a UDP connection to the xspress3 card.  <a href="#gafc352186020b336e0e086684a6874f37"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab0bff51978a1704e926b339f60740d25">xsp3_create_data_module</a> (int path, char *modname, int layout)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create the scope mode data module.  <a href="#gab0bff51978a1704e926b339f60740d25"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga4cfdbc1ed13b9d4fe3a3c12e5e05def6">xsp3_set_udp_packet_size</a> (int path, int card, int size_bytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the UDP packet size in bytes.  <a href="#ga4cfdbc1ed13b9d4fe3a3c12e5e05def6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga8bd9f154bca8efbeab35ea61a650c8d8">xsp3_udp_init</a> (<a class="el" href="struct___u_d_pconnection.html">UDPconnection</a> *udpsock, char *hostIPaddress, int hostPort, char *femIPaddress, int femPort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise the UDP connection.  <a href="#ga8bd9f154bca8efbeab35ea61a650c8d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gaf07f6d34f5efcd2a93762bc6b858ed3c">xsp3_udp_close</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Shutdown the UDP connection between the xspress3 card and the host server.  <a href="#gaf07f6d34f5efcd2a93762bc6b858ed3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga74e7c97d720df8c5e9b0bce669408b18">xsp3_read_scope_data_int</a> (int path, int card, int swap)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read scope data from 10G ethernet using UDP protocol.  <a href="#ga74e7c97d720df8c5e9b0bce669408b18"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gabb040e8c1a7130d689a8a6e8e05c7ca9">xsp3_read_scope_data_card</a> (<a class="el" href="structxsp3__read__scope__struct.html">Xsp3ReadScopeArgs</a> *args)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read scope data from 10G ethernet using UDP protocol.  <a href="#gabb040e8c1a7130d689a8a6e8e05c7ca9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab912459966962ea5c97f40f2ebb27d0d">xsp3_read_data_10g</a> (int path, int card, int stream, int offset_bytes, int size_bytes, unsigned char *buff)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data from the 10G ethernet using UDP protocol.  <a href="#gab912459966962ea5c97f40f2ebb27d0d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab9e830f85279d9c86408ea37b429a68b">xsp3_read_data_10g_receive</a> (int path, int card, <a class="el" href="struct_x_s_p3___d_m_a___status_block.html">XSP3_DMA_StatusBlock</a> *statusBlock, unsigned char *buff_base, u_int32_t first_frame, u_int32_t num_frames, u_int32_t *frame_flags)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Data receiver for 10G UDP ethernet including resent frames.  <a href="#gab9e830f85279d9c86408ea37b429a68b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gac24715bbe9a0897b7b6805d10ee66115">xsp3_reset_10g_frame_counter</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reset the 10G frame counter to zero.  <a href="#gac24715bbe9a0897b7b6805d10ee66115"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab7ef702eb59b53ac25109f4906c7fe66">xsp3_write_data_10g</a> (int path, int card, u_int32_t *buffer, int dst_stream, int offset_bytes, size_t nbytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data into xspress3 utilising the 10G ethernet.  <a href="#gab7ef702eb59b53ac25109f4906c7fe66"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga4836959f61365c9a89ec7d9b442d662f">xsp3_write_data_10g_transmit</a> (int path, u_int32_t *buffer, size_t nbytes)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data using the 10G ethernet.  <a href="#ga4836959f61365c9a89ec7d9b442d662f"></a><br/></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga898079acc0db4312992a43bfe622a188"></a><!-- doxytag: member="xspress3_fem_api.c::femAccessRead" ref="ga898079acc0db4312992a43bfe622a188" args="(FemHandle *femHandle, u_int32_t bus, u_int32_t width, u_int32_t address, u_int32_t num, u_int8_t *payload)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t femAccessRead </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___fem_handle.html">FemHandle</a> *&nbsp;</td>
          <td class="paramname"> <em>femHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *&nbsp;</td>
          <td class="paramname"> <em>payload</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Execute a read transaction on the connected FEM. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHandle</em>&nbsp;</td><td>Pointer to FemHandle returned by <a class="el" href="">xspress3FemInitialise</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>FEM bus to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>width of each write (byte, word, long) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>address of first write transaction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>number of successive addresses to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload</em>&nbsp;</td><td>a buffer to accept the return data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of values read </dd></dl>

</div>
</div>
<a class="anchor" id="gac337e30d48552cfc829f405430a9665c"></a><!-- doxytag: member="xspress3_fem_api.c::femAccessWrite" ref="gac337e30d48552cfc829f405430a9665c" args="(FemHandle *femHandle, u_int32_t bus, u_int32_t width, u_int32_t address, u_int8_t *payload, u_int32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t femAccessWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___fem_handle.html">FemHandle</a> *&nbsp;</td>
          <td class="paramname"> <em>femHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *&nbsp;</td>
          <td class="paramname"> <em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Execute a write transaction on the connected FEM. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHandle</em>&nbsp;</td><td>Pointer to FemHandle returned by <a class="el" href="">xspress3FemInitialise</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bus</em>&nbsp;</td><td>FEM bus to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>width of each write (byte, word, long) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>address of first write transaction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload</em>&nbsp;</td><td>vector of writes of appropriate width </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>number of bytes to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of writes completed in transaction </dd></dl>

</div>
</div>
<a class="anchor" id="ga59a98f4c775fe7bc652e952067de11eb"></a><!-- doxytag: member="xspress3_fem_api.c::femPersonalityWrite" ref="ga59a98f4c775fe7bc652e952067de11eb" args="(FemHandle *femHandle, u_int32_t subCommand, u_int32_t width, u_int32_t streamMask, u_int8_t *payload, size_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t femPersonalityWrite </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___fem_handle.html">FemHandle</a> *&nbsp;</td>
          <td class="paramname"> <em>femHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>subCommand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>streamMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int8_t *&nbsp;</td>
          <td class="paramname"> <em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Execute a personality write transaction on the connected FEM. </p>
<p>This function executes a write transaction on the connected FEM.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHandle</em>&nbsp;</td><td>Pointer to FemHandle returned by <a class="el" href="">xspress3FemInitialise</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>subCommand</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>width</em>&nbsp;</td><td>width of each write (byte, word, long) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>streamMask</em>&nbsp;</td><td>address of first write transaction </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>payload</em>&nbsp;</td><td>vector of writes of appropriate width </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>size of payload in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of writes completed in transaction </dd></dl>

</div>
</div>
<a class="anchor" id="ga085743a9fc444ddb3973060c8293d481"></a><!-- doxytag: member="xspress3_fem_api.c::getMacAddressFromIP" ref="ga085743a9fc444ddb3973060c8293d481" args="(char *ipName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char * getMacAddressFromIP </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>ipName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the MAC address corresponding to the given IP address. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ipName</em>&nbsp;</td><td>byte array containing the IP address </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the mac address of the interface as a byte array or NULL if not found </dd></dl>

</div>
</div>
<a class="anchor" id="ga45bb9c52cea231d503017a105ae38c0c"></a><!-- doxytag: member="xspress3_histogram.c::xsp3_config_histogram_threads" ref="ga45bb9c52cea231d503017a105ae38c0c" args="(int path, int card)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_config_histogram_threads </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start event list processing threads for 1 or all cards in farm mode. </p>
<p>Cancel existing threads if there have already been created.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, -1 will do all cards in system. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga03701193b2a894c3f58f619fce0211e4"></a><!-- doxytag: member="xspress3_histogram.c::xsp3_config_histogram_udp" ref="ga03701193b2a894c3f58f619fce0211e4" args="(int path, int card, char *hostIPaddress, int hostPort, char *femIPaddress, int femPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_config_histogram_udp </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>hostIPaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hostPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>femIPaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>femPort</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure the upd connection between the server and the xspress3 card and subsequently initializes a thread to perform the histogramming. </p>
<p>For firmware outputing 32 address offset, this implementation uses a single thread per FPGA card. For firware using the farm-mode UDP core output event lists with more processing to be done in the PC, a thread is created per channel.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostIPaddress</em>&nbsp;</td><td>IP address of the host server in dotted quad format (e.g. 192.123.456.789). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostPort</em>&nbsp;</td><td>port number of the host server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femIPaddress</em>&nbsp;</td><td>IP address of the xspress3 system in dotted quad format (e.g. 192.123.456.789). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femPort</em>&nbsp;</td><td>port number of the xspress3 system. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gac9208d32f8ba1dc205c60ac68fa1b4f3"></a><!-- doxytag: member="xspress3_scaler.c::xsp3_config_scaler" ref="gac9208d32f8ba1dc205c60ac68fa1b4f3" args="(int path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_config_scaler </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure the scaler arrangement using the current memory allocation within the FEM. </p>
<p>Must be called after the number of channels used has been set, usually within <a class="el" href="">xsp3_config</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4407975f0b1ee3ad41cc72f20760ffbb"></a><!-- doxytag: member="xspress3_soft_scaler.c::xsp3_config_soft_scaler" ref="ga4407975f0b1ee3ad41cc72f20760ffbb" args="(int path, char *mod_name, int num_tf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_config_soft_scaler </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>mod_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_tf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Build a shared data module for the software scalers. </p>
<p>Must be called after the number of channels used has been set, usually within config.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_name</em>&nbsp;</td><td>Name of the module. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_tf</em>&nbsp;</td><td>Maxmimum number of time frames to make space for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga27e4de21e68fd610805127548f080c42"></a><!-- doxytag: member="xspress3.c::xsp3_config_tcp" ref="ga27e4de21e68fd610805127548f080c42" args="(char femHostName[][XSP3_MAX_IP_CHARS], int femPort, int ncards, int num_chan, int debug)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_config_tcp </td>
          <td>(</td>
          <td class="paramtype">char&nbsp;</td>
          <td class="paramname"> <em>femHostName</em>[][XSP3_MAX_IP_CHARS], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>femPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ncards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>debug</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure the xspress3 system and create a 1Gb TCP socket link to each card in the system. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHostName</em>&nbsp;</td><td>an array of strings representing each of the xspress3 system card's IP address in dotted quad format (e.g. 192.123.456.789). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femPort</em>&nbsp;</td><td>the IP port number. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ncards</em>&nbsp;</td><td>the number of xspress3 cards that constitute the xspress3 system, between 1 and <a class="el" href="xspress3__data__mod_8h.html#ae448980f7ec689ad9e0a9ead8f722197">XSP3_MAX_CARDS</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_chan</em>&nbsp;</td><td>the number of channels to be configured in the xspress3 system. between 1 and (ncards * <a class="el" href="xspress3_8h.html#aeb8bab497465c4641c11dd55a8af51b3">XSP3_MAX_CHANS_PER_CARD</a>). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>debug</em>&nbsp;</td><td>a integer flag to turn debug messages off/on/verbose. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a handle to the top level of the xspress3 system or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gafc352186020b336e0e086684a6874f37"></a><!-- doxytag: member="xspress3_udp.c::xsp3_config_udp" ref="gafc352186020b336e0e086684a6874f37" args="(int path, int card, char *femMACaddress, char *femIPaddress, int femPort, char *hostIPaddress, int hostPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_config_udp </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>femMACaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>femIPaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>femPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>hostIPaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hostPort</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure all the parameters for a UDP connection to the xspress3 card. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femMACaddress</em>&nbsp;</td><td>MAC address of the xspress3 card </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femIPaddress</em>&nbsp;</td><td>the IP address of the xspress3 card in dotted quad format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femPort</em>&nbsp;</td><td>the IP port number of the xspress3 card. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostIPaddress</em>&nbsp;</td><td>the IP address of the host server in dotted quad format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostPort</em>&nbsp;</td><td>the IP port number of the host server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gab0bff51978a1704e926b339f60740d25"></a><!-- doxytag: member="xspress3_udp.c::xsp3_create_data_module" ref="gab0bff51978a1704e926b339f60740d25" args="(int path, char *modname, int layout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_create_data_module </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>modname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>layout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create the scope mode data module. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>modname</em>&nbsp;</td><td>the data module name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>layout</em>&nbsp;</td><td>Module layout to suit firmware. See <a class="el" href="group___x_s_p3___s_c_o_p_e___m_o_d___l_a_y_o_u_t.html">XSP3_SCOPE_MOD_LAYOUT</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gad7d358fba490e873fec6cc37dcf6e200"></a><!-- doxytag: member="xspress3_dma.c::xsp3_dma_build_debug_desc" ref="gad7d358fba490e873fec6cc37dcf6e200" args="(int path, int card, u_int32_t stream, XSP3_DMA_MsgBuildDebugDesc *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_dma_build_debug_desc </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_x_s_p3___d_m_a___msg_build_debug_desc.html">XSP3_DMA_MsgBuildDebugDesc</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instruct PPC1 in the Virtex-5 to build a series of DMA descriptors for debug. </p>
<p>The debug type descriptors use a range of frame sizes to fully test the 10 Ge UDP core. <br/>
<br/>
 The following describes the layout of the structure.  <a class="el" href="xspress3__dma__protocol_8h.html">xspress3_dma_protocol.h</a> XSP3_DMA_MSG_BUILD_DEBUG_DESC</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>Stream number to build descriptors for defined in <a class="el" href="group___x_s_p3___d_m_a___s_t_r_e_a_m___n_u_m_b_e_r.html">XSP3_DMA_STREAM_NUMBER</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3732303049c4662e290e4d7751b3bfcd"></a><!-- doxytag: member="xspress3_dma.c::xsp3_dma_build_desc" ref="ga3732303049c4662e290e4d7751b3bfcd" args="(int path, int card, u_int32_t stream, XSP3_DMA_MsgBuildDesc *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_dma_build_desc </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_x_s_p3___d_m_a___msg_build_desc.html">XSP3_DMA_MsgBuildDesc</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instruct PPC1 in the Virtex-5 to build a series of DMA descriptors. </p>
<p><br/>
<br/>
 The following describes the layout of the structure.  <a class="el" href="xspress3__dma__protocol_8h.html">xspress3_dma_protocol.h</a> XSP3_DMA_MSG_BUILD_DESC</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>Stream number to build descriptors for defined in <a class="el" href="group___x_s_p3___d_m_a___s_t_r_e_a_m___n_u_m_b_e_r.html">XSP3_DMA_STREAM_NUMBER</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6c51929d3d8c4f05a5728efaf62876a8"></a><!-- doxytag: member="xspress3_dma.c::xsp3_dma_resend" ref="ga6c51929d3d8c4f05a5728efaf62876a8" args="(int path, int card, u_int32_t stream, u_int32_t first, u_int32_t num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_dma_resend </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instruct PPC1 in the Virtex-5 to reset the status in an existing set of descriptors so they can be sent again. </p>
<p>Used particularly when re-trying send scope moed data via the 10 GE UDP core. <br/>
<br/>
 The following describes the layout of the structure.  <a class="el" href="xspress3__dma__protocol_8h.html">xspress3_dma_protocol.h</a> XSP3_DMA_MSG_RESEND</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>Stream number to resend descriptors for defined in <a class="el" href="group___x_s_p3___d_m_a___s_t_r_e_a_m___n_u_m_b_e_r.html">XSP3_DMA_STREAM_NUMBER</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first</em>&nbsp;</td><td>First descriptor </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num</em>&nbsp;</td><td>Number of descriptors </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gae0dabc05a7958bbf09b2dfa1c6b9e5c2"></a><!-- doxytag: member="xspress3_dma.c::xsp3_dma_reset" ref="gae0dabc05a7958bbf09b2dfa1c6b9e5c2" args="(int path, int card, u_int32_t stream_mask)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_dma_reset </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>stream_mask</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the DMA engines. </p>
<p>This is done by instruct PPC1 in the Virtex-5 to reset the DMA. This should not usually be called directly in user code. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__internal.html#gab912459966962ea5c97f40f2ebb27d0d" title="Read data from the 10G ethernet using UDP protocol.">xsp3_read_data_10g()</a> </dd>
<dd>
<a class="el" href="group__internal.html#gab7ef702eb59b53ac25109f4906c7fe66" title="Write data into xspress3 utilising the 10G ethernet.">xsp3_write_data_10g()</a> </dd>
<dd>
<a class="el" href="group__fullcontrol.html#ga7af4faf2ea9f64d1f1f5ae22bd379d55" title="Start the xspress3 system.">xsp3_system_start()</a> <br/>
<br/>
</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream_mask</em>&nbsp;</td><td>flag to notify which dma stream to reset defined as <a class="el" href="group___x_s_p3___d_m_a___s_t_r_e_a_m___m_a_s_k.html">XSP3_DMA_STREAM_MASK</a>. Can be multiple. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga95a5e41b2d09974e1ffecde8f23e0f42"></a><!-- doxytag: member="xspress3_dma.c::xsp3_dma_start" ref="ga95a5e41b2d09974e1ffecde8f23e0f42" args="(int path, int card, u_int32_t stream, XSP3_DMA_MsgStart *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_dma_start </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_x_s_p3___d_m_a___msg_start.html">XSP3_DMA_MsgStart</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Instruct PPC1 in the Virtex-5 to start a single DMA engine. </p>
<p><br/>
<br/>
 The following describes the layout of the structure.  <a class="el" href="xspress3__dma__protocol_8h.html">xspress3_dma_protocol.h</a> XSP3_DMA_MSG_START</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>Stream number to start defined in <a class="el" href="group___x_s_p3___d_m_a___s_t_r_e_a_m___n_u_m_b_e_r.html">XSP3_DMA_STREAM_NUMBER</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>Pointer to a msg, all 0 for default operation, or override for start and number of descriptors. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf03ad00e9c7b24268fb382d20b898c64"></a><!-- doxytag: member="xspress3.c::xsp3_do_config" ref="gaf03ad00e9c7b24268fb382d20b898c64" args="(int ncards, int num_tf, char *baseIPaddress, int basePort, char *baseMACaddress, int num_chan, int create_module, char *modname, int debug, int card_index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_do_config </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ncards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_tf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>baseIPaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>basePort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>baseMACaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>create_module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>modname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card_index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Configure the complete xspress3 system. </p>
<p>This should be called only once. It is used internally by xsp3_config. The number of card and number of time frame parameters must be specified. The debug and create_module parameters are boolean and should be specified as 0 or 1. All other parameters can be used as default by specifying either NULL or -1.</p>
<div class="fragment"><pre class="fragment">
 * Using the default baseIPaddress, for the host server, of 192.168.0.1 the following values are calculated for the complete xspress3 system.
 *
 * xspress3 1Gb tcp IP address 		card 1		192.168.0.2
 * 									card 2		192.168.0.3
 * 									card 3		192.168.0.4
 * 									...
 *
 * host 10Gb udp IP address 		card 1		192.168.0.65
 * 									card 2		192.168.0.69
 * 									card 3		192.168.0.73
 * 									...
 *
 * xspress3 10Gb udp IP address 	card 1		192.168.0.66
 * 									card 2		192.168.0.70
 * 									card 3		192.168.0.74
 * 									...
 *
 * Using the default MAC address of 02.00.00.00.00.00 the following values are calculated for the complete xspress3 system.
 *
 * xspress3 MAC address 			card 1		02.00.00.00.00.00
 * 									card 2		02.00.00.00.00.02
 * 									card 3		02.00.00.00.00.04
 * 									...
 *
 * For all xspress3 cards the default basePort for the tcp connection is 30123 and for the udp connection 30124.
 *
 * </pre></div> <dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ncards</em>&nbsp;</td><td>the number of xspress3 cards that constitute the xspress3 system, between 1 and <a class="el" href="xspress3__data__mod_8h.html#ae448980f7ec689ad9e0a9ead8f722197">XSP3_MAX_CARDS</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_tf</em>&nbsp;</td><td>the number of time frames </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baseIPaddress</em>&nbsp;</td><td>the IP address of the host server in dotted quad format (e.g. 192.168.0.1) from which all other address's are calculated or NULL to use the default </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>basePort</em>&nbsp;</td><td>the IP port number or -1 to use the default </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>baseMACaddress</em>&nbsp;</td><td>the base MAC address (e.g. 02.00.00.00.00) for card 1, from which all other card MAC address's are calculated or NULL to use the default </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_chan</em>&nbsp;</td><td>the number of channels to be configured in the xspress3 system. between 1 and (ncards * <a class="el" href="xspress3_8h.html#aeb8bab497465c4641c11dd55a8af51b3">XSP3_MAX_CHANS_PER_CARD</a>) or -1 to configure all available channels. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>create_module</em>&nbsp;</td><td>a boolean flag to determine whether to create a data module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>modname</em>&nbsp;</td><td>the module name or NULL to use the default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>debug</em>&nbsp;</td><td>a integer flag to turn debug messages off/on/verbose. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card_index</em>&nbsp;</td><td>starting card number ie 0 = card1, 1 = card2 etc. -1 assumes card_index 0) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a handle to the top level of the xspress3 system or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0204116c22ecebdcddaba0173dddc9ae"></a><!-- doxytag: member="xspress3_hardware_conf.c::xsp3_features_unpack" ref="ga0204116c22ecebdcddaba0173dddc9ae" args="(int path, int card)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_features_unpack </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read the features registers and expand into the features structure. </p>
<p>The rest of the library uses the feaures structure to work correctly with the hardware. This is called in xsp3_config to allow the correct processing/histogramming threads to be started. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>Specified the card in multi card system. Supported is usage is that the top code calls with card = -1 and this code recures card 0..n-1 if necessary. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 on success, or negativeerror code on error </dd></dl>

</div>
</div>
<a class="anchor" id="gaad96238e1618fbedaf17f6a9eb6b0480"></a><!-- doxytag: member="xspress3.c::xsp3_get_dma_status_block" ref="gaad96238e1618fbedaf17f6a9eb6b0480" args="(int path, int card, XSP3_DMA_StatusBlock *statusBlock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_get_dma_status_block </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_x_s_p3___d_m_a___status_block.html">XSP3_DMA_StatusBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>statusBlock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the status and settings of all the DMA streams. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>statusBlock</em>&nbsp;</td><td>a <a class="el" href="struct_x_s_p3___d_m_a___status_block.html">XSP3_DMA_StatusBlock</a> structure to receive the status. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gadd12f8dacc6c10c52eed35c34745fbbd"></a><!-- doxytag: member="xspress3.c::xsp3_get_format_reg" ref="gadd12f8dacc6c10c52eed35c34745fbbd" args="(int path, int chan, u_int32_t *format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_get_format_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the format register. </p>
<p>usually retrieve the foramt information using <a class="el" href="">xsp3_get_format</a> </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>the format register </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6e3dc4ce3545bd26ddcf0910abaf46ed"></a><!-- doxytag: member="xspress3.c::xsp3_get_trigger_regs_b" ref="ga6e3dc4ce3545bd26ddcf0910abaf46ed" args="(int path, int chan, u_int32_t *trigb_thres, u_int32_t *trigb_timea, u_int32_t *trigb_timeb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_get_trigger_regs_b </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>trigb_thres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>trigb_timea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>trigb_timeb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the raw trigger B registers, however the preferred method is to use <a class="el" href="">xsp3_get_trigger_b</a>. </p>
<p><br/>
<br/>
 The following definitions describe the layout of the threshold register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERB_THRESHOLD_REGISTER The following definitions describe the layout of the time register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERB_TIMEA_REGISTER The following definitions describe the layout of the time register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERB_TIMEB_REGISTER</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigb_thres</em>&nbsp;</td><td>the threshold register </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigb_timea</em>&nbsp;</td><td>the timea register </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigb_timeb</em>&nbsp;</td><td>the timeb register </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7b90e4d4c53618c67e796644e2d363dc"></a><!-- doxytag: member="xspress3.c::xsp3_get_trigger_regs_c" ref="ga7b90e4d4c53618c67e796644e2d363dc" args="(int path, int chan, u_int32_t *trigc_otd_servo, u_int32_t *trigc_thres)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_get_trigger_regs_c </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>trigc_otd_servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>trigc_thres</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the raw trigger C registers, however the preferred method is to use <a class="el" href="">xsp3_get_trigger_c</a>. </p>
<p><br/>
<br/>
 The following definitions describe the layout of the threshold register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERC_OVER_THRESHOLD_SERVO_REGISTER The following definitions describe the layout of the threshold register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERC_THRESHOLD_REGISTER</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigc_otd_servo</em>&nbsp;</td><td>the over threshold discriminator servo register </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigc_thres</em>&nbsp;</td><td>the threshold register </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gab4379e74d2774df62d86f22328049ed9"></a><!-- doxytag: member="xspress3_histogram.c::xsp3_histogram_is_busy" ref="gab4379e74d2774df62d86f22328049ed9" args="(int path, int chan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_histogram_is_busy </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if the histogarmming thread is busy or waiting for data. </p>
<p>Usually use <a class="el" href="">xsp3_histogram_is_any_busy</a> to check for any channel.card in system being busy. Usually the histogramming thread will keep up with the list of events and will idle in a blocking read. If the system is used at high rate and CPU load or page faults stall the histogram thread may take some time to finish processing data from the network stack byffers. To safely stop the system, the supply of histogram data should be stopped either by the external timing generator negating the count enable input or by calling <a class="el" href="group__toplevel.html#ga6611bffd6c764d6dc971ac0f3c13cf75">xsp3_histogram_stop()</a> to negate the Run bit in the timing control register. After this the calling program should repeat sleeping 10 ms and checking this busy flag until it is seen to be not busy twice on the run.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) For single histogramming thread per car versions, there is only 1 busy flag per card so reading any channel on that card should give the same answer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if busy 0 idle or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga679113a45cac3adca7274452df588759"></a><!-- doxytag: member="xspress3_histogram.c::xsp3_histogram_mkmod" ref="ga679113a45cac3adca7274452df588759" args="(int path, int chan, char *root_name, int num_tf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_histogram_mkmod </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>root_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_tf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates Data modules to store the histogram data. </p>
<p>These are created and sized at program startup and left unchanged. If existing module of the correct size are found, they are used. The modules are cleared. Changing the size currently requires deletion of the data module from /dev/shm or /run/shm as appropriate.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) if chan is less than 0 then all channels are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>root_name</em>&nbsp;</td><td>String containing the first part of the module names to be created. Channel number 0..(<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) is appended </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_tf</em>&nbsp;</td><td>Number of full single Spectra to allocate space for per channel, which is the number of time frames if no auxiliary data is used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga79a7ffd818893058a5f4deb42cf420fd"></a><!-- doxytag: member="xspress3_histogram.c::xsp3_histogram_start_count_enb" ref="ga79a7ffd818893058a5f4deb42cf420fd" args="(int path, int card, int count_enb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_histogram_start_count_enb </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count_enb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start system and histogramming after resetting the UDP port and frame numbers as necessary. </p>
<p>The UDP port reset is only required when it is not in farm mode as the scope mode also uses the UDP connection on a different port.</p>
<p>The the system is started using <a class="el" href="">xsp3_system_start_count_enb</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. card == -1 causes all cards in a multi card system to start. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count_enb</em>&nbsp;</td><td>In software timed mode 0=&gt; start system but do not enable counting, 1=&gt; start system and enable counting. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gae263ad9f98d44bfb17fb70e6bfac5cca"></a><!-- doxytag: member="xspress3_mdio.c::xsp3_mdio_read_reg" ref="gae263ad9f98d44bfb17fb70e6bfac5cca" args="(int path, int card, u_int32_t *reg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_mdio_read_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>reg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read single value from MDIO firmware. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reg</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga14d4c61c2275dfb6630d843e845145dc"></a><!-- doxytag: member="xspress3_mdio.c::xsp3_mdio_write_reg" ref="ga14d4c61c2275dfb6630d843e845145dc" args="(int path, int card, u_int32_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_mdio_write_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write single value to MDIO firmware. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gad5aeb0a3b30f6406ad0333215de9035b"></a><!-- doxytag: member="xspress3_mod.c::xsp3_mkmod" ref="gad5aeb0a3b30f6406ad0333215de9035b" args="(char *name, u_int32_t num_x, u_int32_t num_y, char *x_lab, char *y_lab, int data_float, mh_com **mod_head)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOD_IMAGE* xsp3_mkmod </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>num_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>num_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>x_lab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>y_lab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>data_float</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mh_com **&nbsp;</td>
          <td class="paramname"> <em>mod_head</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make a 2-d shared data module. </p>
<p>These shared data modules are in /dev/shm. They are used to hold the MCA spectra data. They can be viewed using imgd and manipulated using xspress3.server. These function track libimg_mod.a, but are copied here to make libxspress3.a standalone. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the data module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_x</em>&nbsp;</td><td>Size of data module in x, width. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_y</em>&nbsp;</td><td>Size of data module in x, Height </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x_lab</em>&nbsp;</td><td>label for x values, NULL for default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y_lab</em>&nbsp;</td><td>label for y values, NULL for default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data_float</em>&nbsp;</td><td>data type: 0 =&gt; u_int32_t, 1 =&gt; float, 2 =&gt; double. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_head</em>&nbsp;</td><td>return pointer to the data module header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the data module or NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="ga591d875119ae22b9272b9d2cb51dbf24"></a><!-- doxytag: member="xspress3_mod.c::xsp3_mkmod3d" ref="ga591d875119ae22b9272b9d2cb51dbf24" args="(char *name, int num_x, int num_y, int num_t, char *x_lab, char *y_lab, char *t_lab, char **labels, int data_float, mh_com **mod_head)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MOD_IMAGE3D* xsp3_mkmod3d </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>x_lab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>y_lab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>t_lab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&nbsp;</td>
          <td class="paramname"> <em>labels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>data_float</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mh_com **&nbsp;</td>
          <td class="paramname"> <em>mod_head</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Make a 3-d shared data module. </p>
<p>These shared data modules are in /dev/shm. They are currently used for the software scaler data, but may be used to hold the MCA spectra data in later releases. They can be viewed using imgd, but have limited (growing support) in xspress3.server These function track libimg_mod.a, but are copied here to make libxspress3.a standalone.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of the data module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_x</em>&nbsp;</td><td>Size of data module in x, width. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_y</em>&nbsp;</td><td>Size of data module in x, Height </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_t</em>&nbsp;</td><td>Size of data module in t direction. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x_lab</em>&nbsp;</td><td>label for x values, NULL for default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y_lab</em>&nbsp;</td><td>label for y values, NULL for default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t_lab</em>&nbsp;</td><td>label for t values, NULL for default. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>labels</em>&nbsp;</td><td>pointer to array of pointers to individual row labels, to be used for for y. NULL to omit. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data_float</em>&nbsp;</td><td>data type: 0 =&gt; u_int32_t, 1 =&gt; float, 2 =&gt; double. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_head</em>&nbsp;</td><td>return pointer to the data module header </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the data module or NULL. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3739a09ce0e10a6a8e105be79640c438"></a><!-- doxytag: member="xspress3_mod.c::xsp3_mod_get_ptr" ref="ga3739a09ce0e10a6a8e105be79640c438" args="(void *p, int x, int y, int t)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">u_int32* xsp3_mod_get_ptr </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>t</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate the pointer to a given element of a 2-d or 3-d shared data module. </p>
<p>These shared data modules are in /dev/shm. They cane be 2-d or 3-d. The data types can be u_int32_t, u_int16_t, float or double. These function track libimg_mod.a, but are copied here to make libxspress3.a standalone.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>Pointer to the data module as a MOD_IMAGE or MOD_IMAGE3D. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>x</em>&nbsp;</td><td>X Coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>y</em>&nbsp;</td><td>Y Coordinate. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>t</em>&nbsp;</td><td>T Coordinate if P points to a MOD_IMAGE3D </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the requested data element or NULL on error. </dd></dl>

</div>
</div>
<a class="anchor" id="gab912459966962ea5c97f40f2ebb27d0d"></a><!-- doxytag: member="xspress3_udp.c::xsp3_read_data_10g" ref="gab912459966962ea5c97f40f2ebb27d0d" args="(int path, int card, int stream, int offset_bytes, int size_bytes, unsigned char *buff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_data_10g </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>buff</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read data from the 10G ethernet using UDP protocol. </p>
<p>Check and correct for missing frames.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream</em>&nbsp;</td><td>which DMA stream to read data from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset_bytes</em>&nbsp;</td><td>an offset into the buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size_bytes</em>&nbsp;</td><td>size of buffer (in bytes) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>pointer to a buffer to receive data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of frames greater than 0 is success else 0 or negative error code is fail. </dd></dl>

</div>
</div>
<a class="anchor" id="gab9e830f85279d9c86408ea37b429a68b"></a><!-- doxytag: member="xspress3_udp.c::xsp3_read_data_10g_receive" ref="gab9e830f85279d9c86408ea37b429a68b" args="(int path, int card, XSP3_DMA_StatusBlock *statusBlock, unsigned char *buff_base, u_int32_t first_frame, u_int32_t num_frames, u_int32_t *frame_flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_data_10g_receive </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_x_s_p3___d_m_a___status_block.html">XSP3_DMA_StatusBlock</a> *&nbsp;</td>
          <td class="paramname"> <em>statusBlock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *&nbsp;</td>
          <td class="paramname"> <em>buff_base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>first_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>num_frames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>frame_flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Data receiver for 10G UDP ethernet including resent frames. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>statusBlock</em>&nbsp;</td><td>DMA status </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buff_base</em>&nbsp;</td><td>pointer to data buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first_frame</em>&nbsp;</td><td>first frame to capture </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_frames</em>&nbsp;</td><td>number of frames </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>frame_flags</em>&nbsp;</td><td>received frame flag </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of frames received or a negative error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga562fe433b8c75c1fef5095afa4903e98"></a><!-- doxytag: member="xspress3.c::xsp3_read_glob_reg" ref="ga562fe433b8c75c1fef5095afa4903e98" args="(int path, int card, int offset, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_glob_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a series of values from the global region register for each specified card. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>an address offset from the start of the global region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array to receive a series of 32 bit integer values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4700d3bc0e38e134b7fa265f5d5d77b2"></a><!-- doxytag: member="xspress3.c::xsp3_read_raw_reg" ref="ga4700d3bc0e38e134b7fa265f5d5d77b2" args="(int path, int card, u_int32_t address, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_raw_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a series of values from an address for each specified card. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>an address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array to receive a series of 32 bit integer values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gaeb60c914fabc7deb6559f7491c106589"></a><!-- doxytag: member="xspress3.c::xsp3_read_rdma_reg" ref="gaeb60c914fabc7deb6559f7491c106589" args="(int path, int card, int address, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_rdma_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a series of values from the UPD core registers for each specified card. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>an address offset into the UDP core registers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array to receive a series of 32 bit integer values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gae52e0e475600ca3248ed22f00f961287"></a><!-- doxytag: member="xspress3.c::xsp3_read_reg" ref="gae52e0e475600ca3248ed22f00f961287" args="(int path, int chan, int region, int offset, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a series of values from the region registers for each specified channel. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) if chan is less than 0 then all channels are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>an offset from the channel (0 ... <a class="el" href="xspress3_8h.html#afa701425dcdfe9a9700adcbf2bb58f44">XSP3_REGION_RAM_MAX</a>) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>an address offset from the start of the region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array to receive a series of 32 bit integer values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gabb040e8c1a7130d689a8a6e8e05c7ca9"></a><!-- doxytag: member="xspress3_udp.c::xsp3_read_scope_data_card" ref="gabb040e8c1a7130d689a8a6e8e05c7ca9" args="(Xsp3ReadScopeArgs *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * xsp3_read_scope_data_card </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structxsp3__read__scope__struct.html">Xsp3ReadScopeArgs</a> *&nbsp;</td>
          <td class="paramname"> <em>args</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read scope data from 10G ethernet using UDP protocol. </p>
<p>Parameter in a single structure, sos can be called as a thread function, per card.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>args</em>&nbsp;</td><td>Pointer to structure containing args, path, card and swap. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of frames greater than 0 is success else 0 or negative error code is fail. </dd></dl>

</div>
</div>
<a class="anchor" id="ga74e7c97d720df8c5e9b0bce669408b18"></a><!-- doxytag: member="xspress3_udp.c::xsp3_read_scope_data_int" ref="ga74e7c97d720df8c5e9b0bce669408b18" args="(int path, int card, int swap)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_scope_data_int </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>swap</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read scope data from 10G ethernet using UDP protocol. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>swap</em>&nbsp;</td><td>byte swap the data </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of frames greater than 0 is success else 0 or negative error code is fail. </dd></dl>

</div>
</div>
<a class="anchor" id="gabd552effcf1346a3aa3cfba84d4ad220"></a><!-- doxytag: member="xspress3.c::xsp3_read_soft_lut" ref="gabd552effcf1346a3aa3cfba84d4ad220" args="(int path, int chan, int region_num, int nwords, u_int32_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_soft_lut </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>region_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nwords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read Software lookup table equivalent to BRAM. </p>
<p>This isused in system which move processing into the PC.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>Channel number in the system -1 for all. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region_num</em>&nbsp;</td><td>Region number of the BRAM equivalent function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nwords</em>&nbsp;</td><td>the size of the array of values to writtem, which must match the LUT size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to array of value 32 bit aligned for all BRAM/LUT widths </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga06923e5512ee3558c7783db8ea91854c"></a><!-- doxytag: member="xspress3.c::xsp3_read_spi_reg" ref="ga06923e5512ee3558c7783db8ea91854c" args="(int path, int card, int address, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_read_spi_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a series of values from the SPI registers for each specified card. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>an address offset into the SPI registers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to read. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array to receive a series of 32 bit integer values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gac24715bbe9a0897b7b6805d10ee66115"></a><!-- doxytag: member="xspress3_udp.c::xsp3_reset_10g_frame_counter" ref="gac24715bbe9a0897b7b6805d10ee66115" args="(int path, int card)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_reset_10g_frame_counter </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset the 10G frame counter to zero. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4fd547d1adbe84f1a9c34d38ce560171"></a><!-- doxytag: member="xspress3.c::xsp3_resolve_path" ref="ga4fd547d1adbe84f1a9c34d38ce560171" args="(int path, int chan, int *thisPath, int *chanIdx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_resolve_path </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>thisPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>chanIdx</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determine which card and consequently the handle, a particular channel is configured on and the channel number within that card, given the top level system handle and the channel number. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>thisPath</em>&nbsp;</td><td>the handle to the particular card for the given channel. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chanIdx</em>&nbsp;</td><td>the channel within the card specified by the 'thisPath' handle. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga00ddc88bca74ece586493d86198b809c"></a><!-- doxytag: member="xspress3_scope_mode.c::xsp3_scope_mod_create" ref="ga00ddc88bca74ece586493d86198b809c" args="(char *name, int num_cards, int lwords_per_card, mh_com **mod_head, int layout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structxsp3__scope__data__module.html">XSP3ScopeModule</a>* xsp3_scope_mod_create </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_cards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lwords_per_card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mh_com **&nbsp;</td>
          <td class="paramname"> <em>mod_head</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>layout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a shared data module in /dev/shm to store Scope mode data. </p>
<p>Usually called by <a class="el" href="">xsp3_config</a></p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name for data module </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_cards</em>&nbsp;</td><td>Number of Cards (XSPRESS3 boxes) in the system </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lwords_per_card</em>&nbsp;</td><td>Number of LWords on FEM DRAM used in each card, which must match </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mod_head</em>&nbsp;</td><td>Pointer to return Module header pointer to allow unlinking of module. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>layout</em>&nbsp;</td><td>Layout of scope mode module see <a class="el" href="group___x_s_p3___s_c_o_p_e___m_o_d___l_a_y_o_u_t.html">XSP3_SCOPE_MOD_LAYOUT</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Pointer to the beginning of the header of the data module. </dd></dl>

</div>
</div>
<a class="anchor" id="gad5bce8052abd45b1277a69019f7c3d0d"></a><!-- doxytag: member="xspress3.c::xsp3_set_clock_control" ref="gad5bce8052abd45b1277a69019f7c3d0d" args="(int path, int card, u_int32_t clock)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_clock_control </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>clock</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the global clock control register. </p>
<p><br/>
<br/>
 The following definitions describe the layout of the global time A register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_GLOBAL_CLOCK</p>
<p>However, clock setup is more involved, so shouldusually bedone via <a class="el" href="">xsp3_clocks_setup</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. If card is less than 0 then all cards are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>clock</em>&nbsp;</td><td>the clock control register </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gab3adcff35b6ac8e1cfc8efc5a850f749"></a><!-- doxytag: member="xspress3.c::xsp3_set_format_reg" ref="gab3adcff35b6ac8e1cfc8efc5a850f749" args="(int path, int chan, u_int32_t format)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_format_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>format</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the format register. </p>
<p>The format control register is usually controlled vai the function <a class="el" href="">xsp3_format_run</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1). If chan is less than 0 then all channels are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>format</em>&nbsp;</td><td>the format register. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga988818fa0740d4b7745744c85ae7d04b"></a><!-- doxytag: member="xspress3.c::xsp3_set_num_chan" ref="ga988818fa0740d4b7745744c85ae7d04b" args="(int path, int num_chan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_num_chan </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_chan</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the number of channels to be used in system. </p>
<p>This is generally called from <a class="el" href="">xsp3_config</a>. Trying to change this afterwards may leave the wrong number of histogram threads running, so is not recommended. If the requested number is -1 all available channels will be used, else it is assumed that each card uses its full allocation of channels, the cards are contiguous so that any non-full remainder is in the last card. There is no current provision for a sparse allocation of channels across cards. A later API may address this.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_chan</em>&nbsp;</td><td>the number of channels requested or -1 for all available channels </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gaaf68c7f5a80284d95e83b7e0d98175ae"></a><!-- doxytag: member="xspress3.c::xsp3_set_scope" ref="gaaf68c7f5a80284d95e83b7e0d98175ae" args="(int path, int card, u_int32_t scope_chn, u_int32_t scope_src, u_int32_t scope_nwd, u_int32_t scope_alt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_scope </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>scope_chn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>scope_src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>scope_nwd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>scope_alt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the scope mode registers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. If card is less than 0 then all cards are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scope_chn</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scope_src</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scope_nwd</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>scope_alt</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga23ffd1ca73a7da07ece9ba946d164099"></a><!-- doxytag: member="xspress3.c::xsp3_set_trigger_regs_b" ref="ga23ffd1ca73a7da07ece9ba946d164099" args="(int path, int chan, u_int32_t trigb_thres, u_int32_t trigb_timea, u_int32_t trigb_timeb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_trigger_regs_b </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>trigb_thres</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>trigb_timea</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>trigb_timeb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the raw trigger B registers, however the preferred method is to use <a class="el" href="group__fullcontrol.html#ga0f103d203f9279c907dcb52b81dca489">xsp3_set_trigger_b</a>. </p>
<p><br/>
<br/>
 The following definitions describe the layout of the threshold register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERB_THRESHOLD_REGISTER The following definitions describe the layout of the timea register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERB_TIMEA_REGISTER The following definitions describe the layout of the timeb register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERB_TIMEB_REGISTER</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) if chan is less than 0 then all channels are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigb_thres</em>&nbsp;</td><td>the threshold register </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigb_timea</em>&nbsp;</td><td>the timea register </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigb_timeb</em>&nbsp;</td><td>the timeb register </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga74f9acfb667911c0519e3a21ac87bd39"></a><!-- doxytag: member="xspress3.c::xsp3_set_trigger_regs_c" ref="ga74f9acfb667911c0519e3a21ac87bd39" args="(int path, int chan, u_int32_t trigc_otd_servo, u_int32_t trigc_thres)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_trigger_regs_c </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>trigc_otd_servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>trigc_thres</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the raw trigger C registers, however the preferred method is to use <a class="el" href="group__fullcontrol.html#gad20cd56fd51dd1d0a963fd57933bb5cc">xsp3_set_trigger_c</a>. </p>
<p><br/>
<br/>
 The following definitions describe the layout of the threshold register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERC_THRESHOLD_REGISTER The average mode bits 27-28 are defined as:  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_TRIGGERC_AVEMODE_BITS 27-28</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1). If chan is less than 0 then all channels are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigc_otd_servo</em>&nbsp;</td><td>the overthreshold register </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>trigc_thres</em>&nbsp;</td><td>the threshold register </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4cfdbc1ed13b9d4fe3a3c12e5e05def6"></a><!-- doxytag: member="xspress3_udp.c::xsp3_set_udp_packet_size" ref="ga4cfdbc1ed13b9d4fe3a3c12e5e05def6" args="(int path, int card, int size_bytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_udp_packet_size </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size_bytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the UDP packet size in bytes. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size_bytes</em>&nbsp;</td><td>the size of the packet (bytes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga5b8052f13dd2f05036bb65ddd5d826f3"></a><!-- doxytag: member="xspress3_udp.c::xsp3_set_udp_port" ref="ga5b8052f13dd2f05036bb65ddd5d826f3" args="(int path, int card, int hostPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_set_udp_port </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hostPort</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the UDP port number. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostPort</em>&nbsp;</td><td>the port number </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga05595151403db5ac02cbab8e4b45f4c5"></a><!-- doxytag: member="xspress3_soft_scaler.c::xsp3_soft_scaler_clear" ref="ga05595151403db5ac02cbab8e4b45f4c5" args="(int path, int first_chan, int first_frame, int num_chan, int num_frames)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_soft_scaler_clear </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>first_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>first_frame</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>num_frames</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear region of the software scalers data module. </p>
<p>Note that clearing prior to acquistion is required for software scalers, unlike the hardware scalers which overwrite the memory. This is called from <a class="el" href="">xsp3_histogram_clear</a> so use code need not change.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first_chan</em>&nbsp;</td><td>First Channel to clear </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first_frame</em>&nbsp;</td><td>First Time Frame to clear </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_chan</em>&nbsp;</td><td>Number of Channels to clear. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_frames</em>&nbsp;</td><td>Number of Time frames to clear. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga746c4d9fd12495c14efcc14641a4a248"></a><!-- doxytag: member="xspress3_soft_scaler.c::xsp3_soft_scaler_read" ref="ga746c4d9fd12495c14efcc14641a4a248" args="(int path, u_int32_t *dest, unsigned first_scaler, unsigned first_chan, unsigned first_t, unsigned n_scalers, unsigned n_chan, unsigned dt)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_soft_scaler_read </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>first_scaler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>first_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>first_t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>n_scalers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>n_chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&nbsp;</td>
          <td class="paramname"> <em>dt</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Read a block of software scaler data. </p>
<p>Called by <a class="el" href="">xsp3_scaler_read</a> when required, so user code does not need to know. <br/>
 </p>
<div class="fragment"><pre class="fragment">
 * The data block will comprise of
 * time frame[t]		channel[chan]			scaler[scaler]				data[0]
 *																			...
 * 												scaler[scaler+n_scaler-1]	data[n_scaler-1]
 * 																			...
 * 						channel[chan+n_chan-1]	scaler[scaler]				data[(n_chan-1)*n_scaler]
 * 																			...
 * 												scaler[n_scaler]			data[n_chan*n_scaler-1]
 * 																			...
 * time frame[t+dt-1]	channel[chan]			scaler[scaler]				data[(dt-1)*n_chan*n_scaler]
 *																			...
 * 												scaler[scaler+n_scaler-1]	data[dt*(nchan-1)*n_scaler-1]
 * 																			...
 * 						channel[chan+n_chan-1]	scaler[scaler]				data[(dt*nchan-1)*n_scaler]
 * 																			...
 * 												scaler[scaler+n_scaler-1]	data[dt*n_chan*n_scaler-1]
 *
 * where the scalers are defined as:
 * scaler 0 - Time
 * scaler 1 - ResetTicks
 * scaler 2 - ResetCount
 * scaler 3 - AllEvent
 * scaler 4 - AllGood
 * scaler 5 - InWIn 0
 * scaler 6 - In Win 1
 * scaler 7 - PileUp
 * </pre></div><dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dest</em>&nbsp;</td><td>a pointer to the data buffer to receive scaler data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first_scaler</em>&nbsp;</td><td>is the first scaler number to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first_chan</em>&nbsp;</td><td>is the first channel to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>first_t</em>&nbsp;</td><td>the first time frame to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n_scalers</em>&nbsp;</td><td>the number of scaler to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>n_chan</em>&nbsp;</td><td>number of channels to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dt</em>&nbsp;</td><td>number of time frame to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9e3386d93c376e1b91ae849b7019fbec"></a><!-- doxytag: member="xspress3_dma.c::xsp3_system_start_count_enb" ref="ga9e3386d93c376e1b91ae849b7019fbec" args="(int path, int card, int count_enb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_system_start_count_enb </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count_enb</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the xspress3 system with control over count enable in software framing mode. </p>
<p>If the run mode has been set to include playback, it is started. If the run mode include scope mode, the scope mode DMAs are started. See <a class="el" href="">xsp3_set_run_flags</a>. However, for full control of the histogramming threads and UDP ports it is usual to use <a class="el" href="">xsp3_histogram_start</a> or <a class="el" href="">xsp3_histogram_arm</a> instead</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="">xsp3_config</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. If card is less than 0 then all cards are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count_enb</em>&nbsp;</td><td>In software timed mode 0=&gt; start system but do not enable counting, 1=&gt; start system and enable counting. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gaf07f6d34f5efcd2a93762bc6b858ed3c"></a><!-- doxytag: member="xspress3_udp.c::xsp3_udp_close" ref="gaf07f6d34f5efcd2a93762bc6b858ed3c" args="(int path, int card)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_udp_close </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shutdown the UDP connection between the xspress3 card and the host server. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga8bd9f154bca8efbeab35ea61a650c8d8"></a><!-- doxytag: member="xspress3_udp.c::xsp3_udp_init" ref="ga8bd9f154bca8efbeab35ea61a650c8d8" args="(UDPconnection *udpsock, char *hostIPaddress, int hostPort, char *femIPaddress, int femPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_udp_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___u_d_pconnection.html">UDPconnection</a> *&nbsp;</td>
          <td class="paramname"> <em>udpsock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>hostIPaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>hostPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>femIPaddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>femPort</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise the UDP connection. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>udpsock</em>&nbsp;</td><td>a pointer to a structure containing all the parameters pertinent to the UDP connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostIPaddress</em>&nbsp;</td><td>the IP address of the host server in dotted quad format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hostPort</em>&nbsp;</td><td>the IP port number of the host server. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femIPaddress</em>&nbsp;</td><td>the IP address of the xspress3 card in dotted quad format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>femPort</em>&nbsp;</td><td>the IP port number of the xspress3 card. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gab7ef702eb59b53ac25109f4906c7fe66"></a><!-- doxytag: member="xspress3_udp_write.c::xsp3_write_data_10g" ref="gab7ef702eb59b53ac25109f4906c7fe66" args="(int path, int card, u_int32_t *buffer, int dst_stream, int offset_bytes, size_t nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_write_data_10g </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dst_stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data into xspress3 utilising the 10G ethernet. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>data buffer </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dst_stream</em>&nbsp;</td><td>the DMA stream flag </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset_bytes</em>&nbsp;</td><td>offset from beginning address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>number of bytes of data in buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>greater or equal to 0 for success else negative error code </dd></dl>

</div>
</div>
<a class="anchor" id="ga4836959f61365c9a89ec7d9b442d662f"></a><!-- doxytag: member="xspress3_udp_write.c::xsp3_write_data_10g_transmit" ref="ga4836959f61365c9a89ec7d9b442d662f" args="(int path, u_int32_t *buffer, size_t nbytes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_write_data_10g_transmit </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>nbytes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write data using the 10G ethernet. </p>
<p>Internal use only.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>the data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nbytes</em>&nbsp;</td><td>the number of bytes of daata </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of bytes sent or negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gac3a849604e2f273d8390a9809f4aa472"></a><!-- doxytag: member="xspress3.c::xsp3_write_glob_reg" ref="gac3a849604e2f273d8390a9809f4aa472" args="(int path, int card, int offset, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_write_glob_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a series of values into the global region register for all or each specified card. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. If card is less than 0 then all cards are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>an address offset from the start of the global region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array of 32 bit integer values to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga06821195404d52220118538ca89a9a61"></a><!-- doxytag: member="xspress3.c::xsp3_write_rdma_reg" ref="ga06821195404d52220118538ca89a9a61" args="(int path, int card, int address, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_write_rdma_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a series of values into the UDP core registers for all or each specified card. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. If card is less than 0 then all cards are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>an address offset into the UDP core registers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array of 32 bit integer values to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga45afdce5a53b9c007d8c1576a1fce269"></a><!-- doxytag: member="xspress3.c::xsp3_write_reg" ref="ga45afdce5a53b9c007d8c1576a1fce269" args="(int path, int chan, int region, int offset, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_write_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a series of values into the region registers for all or each specified channel. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>is the number of the channel in the xspress3 system, 0 to (<a class="el" href="group__toplevel.html#ga8d0027b9ea7ab15bfe691face4bd45c5">xsp3_get_num_chan()</a> - 1) if chan is less than 0 then all channels are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>an offset from the channel (0 ... <a class="el" href="xspress3_8h.html#afa701425dcdfe9a9700adcbf2bb58f44">XSP3_REGION_RAM_MAX</a>). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>an address offset from the start of the region. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array of 32 bit integer values to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga39a5829829ab90191f5f23565cf49eec"></a><!-- doxytag: member="xspress3.c::xsp3_write_soft_lut" ref="ga39a5829829ab90191f5f23565cf49eec" args="(int path, int chan, int region_num, int nwords, u_int32_t *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_write_soft_lut </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>region_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nwords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>data</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write Software lookup table equivalent to BRAM. </p>
<p>This isused in system which move processing into the PC.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>Channel number in the system -1 for all. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region_num</em>&nbsp;</td><td>Region number of the BRAM equivalent function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nwords</em>&nbsp;</td><td>the size of the array of values to writtem, which must match the LUT size. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to array of value 32 bit aligned for all BRAM/LUT widths </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="ga9a1d4d54f0d17466a303f6a958a1791e"></a><!-- doxytag: member="xspress3.c::xsp3_write_spi_reg" ref="ga9a1d4d54f0d17466a303f6a958a1791e" args="(int path, int card, int address, int size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xsp3_write_spi_reg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>card</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write a series of values into the SPI registers for all or each specified card. </p>
<p><br/>
<br/>
 The following definitions describe the layout of the SPI register  <a class="el" href="xspress3_8h.html">xspress3.h</a> XSP3_SPI_REGISTER</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>a handle to the top level of the xspress3 system returned from <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>card</em>&nbsp;</td><td>is the number of the card in the xspress3 system, 0 for a single card system and up to (<a class="el" href="group__toplevel.html#ga083bca593ecb81ea2d6f5d726ef64fae">xsp3_get_num_cards()</a> - 1) for a multi-card system, where this value has been passed to <a class="el" href="group__toplevel.html#gabbdb522cdcc0230ab9d2e06c63c4cf03">xsp3_config()</a> at xspress3 system configuration. If card is less than 0 then all cards are selected. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>an address offset into the SPI registers. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>the size of the array of values to write. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>an array of 32 bit integer values to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><a class="el" href="xspress3_8h.html#aad318e803581597725f2a5dc06f617e4">XSP3_OK</a> or a negative error code. </dd></dl>

</div>
</div>
<a class="anchor" id="gadd1e75115381270d1233524f5103ff9a"></a><!-- doxytag: member="xspress3_fem_api.c::xspress3FemClose" ref="gadd1e75115381270d1233524f5103ff9a" args="(void *femHandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xspress3FemClose </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>femHandle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Closes the xspress3 client connection to a FEM/. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHandle</em>&nbsp;</td><td>an instance of the connected FEM </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga5e0f666fa06971375345507c3678660f"></a><!-- doxytag: member="xspress3_fem_api.c::xspress3FemInitialise" ref="ga5e0f666fa06971375345507c3678660f" args="(const char *hostname, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* xspress3FemInitialise </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialises client connection to a FEM. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hostname</em>&nbsp;</td><td>string representation of FEM IP address in dotted quad format </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>integer port number to connect to </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a handle for connected FEM </dd></dl>

</div>
</div>
<a class="anchor" id="ga735917911a8007d8e950731a5ff6db24"></a><!-- doxytag: member="xspress3_fem_api.c::xspress3FemPersonalityWrite" ref="ga735917911a8007d8e950731a5ff6db24" args="(void *femHandle, u_int32_t sub_command, u_int32_t stream_mask, size_t size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xspress3FemPersonalityWrite </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>femHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>sub_command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>stream_mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform a write transaction to the FEM. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHandle</em>&nbsp;</td><td>Pointer to FemHandle returned by <a class="el" href="">xspress3FemInitialise</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sub_command</em>&nbsp;</td><td>Command to pass through FEM personality route to the PPC1 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stream_mask</em>&nbsp;</td><td>Mask to tell FEM PPC1 which DMA channle to perform command on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Size of the different XSP3_DMA_Mgs type structures being used in lwords. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Pointer to the message to bepassed to FEM PPC1. bus_target = Sub Command data_width = WIDTH_LONG state = 0 (ignored) -- Suggest set Write bit so in future can consider read command. address = Function mask payload = Different XSP3_DMA_Mgs type for each command </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa1e2f80b0bc0671cc5b9ab2ac98c3811"></a><!-- doxytag: member="xspress3_fem_api.c::xspress3FemSetInt" ref="gaa1e2f80b0bc0671cc5b9ab2ac98c3811" args="(void *femHandle, int chan, int region, int offset, u_int32_t value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xspress3FemSetInt </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>femHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Perform a single integer write transaction to the FEM. </p>
<p>This function performs an write transaction to the FEM into the xspress3 register space, at an address caclulated from the channel number, region number within channel and offset within region specified in the arguments for 1 off 32 bit int.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHandle</em>&nbsp;</td><td>an instance of the connected FEM </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>Channel number to calculate an offset from the base address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>region number to offset within the channel </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>the offset from region start in lwords </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>a single 32 bit integer value to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if success </dd></dl>

</div>
</div>
<a class="anchor" id="ga3380b8923c1ea7dffcff39c513fad645"></a><!-- doxytag: member="xspress3_fem_api.c::xspress3FemSetIntArray" ref="ga3380b8923c1ea7dffcff39c513fad645" args="(void *femHandle, int chan, int region, int offset, size_t size, u_int32_t *value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int xspress3FemSetIntArray </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>femHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>region</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">u_int32_t *&nbsp;</td>
          <td class="paramname"> <em>value</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write an array of integers to the FEM. </p>
<p>This function performs an write transaction to the FEM into the xspress3 register space, at an address caclulated from the channel number, region number within channel and offset within region specified in the arguments for size off 32 bit ints.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>femHandle</em>&nbsp;</td><td>an instance of the connected FEM </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>Channel number to calculate an offset from the base address </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>region</em>&nbsp;</td><td>region number to offset within the channel </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>the offset from region start in lwords </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>Number of 32 bit ints to write </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Pointer to an array of 32 bit integer values to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 if success </dd></dl>

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Oct 29 2014 09:17:10 for xspress3api by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
