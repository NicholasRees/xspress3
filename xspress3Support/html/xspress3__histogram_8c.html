<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>xspress3api: /scratch/npr78/temp/xspress3_api/det-software/none_vme/xspress3/lib/xspress3_histogram.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>/scratch/npr78/temp/xspress3_api/det-software/none_vme/xspress3/lib/xspress3_histogram.c File Reference</h1>  </div>
</div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xspress3__histogram_8c.html#af2934b182242760eb6945f9fc99b9195">XSP3_UDP_HEADER_SIZE</a>&nbsp;&nbsp;&nbsp;8</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xspress3__histogram_8c.html#a58d0c8149f2bf2d469be2e04ddfe306f">MODULE_SIZE_X</a>&nbsp;&nbsp;&nbsp;4096</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xspress3__histogram_8c.html#a96b32e8be861dde177af1049223ad939">XSP3_HIST_MOD_NAME</a>&nbsp;&nbsp;&nbsp;30</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga8bd9f154bca8efbeab35ea61a650c8d8">xsp3_udp_init</a> (<a class="el" href="struct___u_d_pconnection.html">UDPconnection</a> *udpconnection, char *hostIPaddress, int hostPort, char *femIPaddress, int femPort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialise the UDP connection.  <a href="group__internal.html#ga8bd9f154bca8efbeab35ea61a650c8d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xspress3__histogram_8c.html#a9d801673afc3b42c759c1d3c4686c669">read_and_histogram</a> (void *args)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga679113a45cac3adca7274452df588759">xsp3_histogram_mkmod</a> (int path, int chan, char *root_name, int num_tf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Creates Data modules to store the histogram data.  <a href="group__internal.html#ga679113a45cac3adca7274452df588759"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga03701193b2a894c3f58f619fce0211e4">xsp3_config_histogram_udp</a> (int path, int card, char *hostIPaddress, int hostPort, char *femIPaddress, int femPort)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configure the upd connection between the server and the xspress3 card and subsequently initializes a thread to perform the histogramming.  <a href="group__internal.html#ga03701193b2a894c3f58f619fce0211e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga45bb9c52cea231d503017a105ae38c0c">xsp3_config_histogram_threads</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start event list processing threads for 1 or all cards in farm mode.  <a href="group__internal.html#ga45bb9c52cea231d503017a105ae38c0c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#gaf3b1a4949881a95c76bad27b1b3f5783">xsp3_histogram_start</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start system and enable counting.  <a href="group__toplevel.html#gaf3b1a4949881a95c76bad27b1b3f5783"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#gade395791d70335b40677571a82584919">xsp3_histogram_arm</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start system ready for histogramming but do not software enable histogramming.  <a href="group__toplevel.html#gade395791d70335b40677571a82584919"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#gaeed745920deb1aaca2ec8dbf2919136e">xsp3_histogram_continue</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Continue counting from armed or paused when time framing is in software controlled (FIXED) mode.  <a href="group__toplevel.html#gaeed745920deb1aaca2ec8dbf2919136e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#gace2c23d40d2690671901f4c683a58c3c">xsp3_histogram_pause</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Pause counting in seriesof software timed frames.  <a href="group__toplevel.html#gace2c23d40d2690671901f4c683a58c3c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#ga79a7ffd818893058a5f4deb42cf420fd">xsp3_histogram_start_count_enb</a> (int path, int card, int count_enb)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start system and histogramming after resetting the UDP port and frame numbers as necessary.  <a href="group__internal.html#ga79a7ffd818893058a5f4deb42cf420fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#ga6611bffd6c764d6dc971ac0f3c13cf75">xsp3_histogram_stop</a> (int path, int card)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop histogramming.  <a href="group__toplevel.html#ga6611bffd6c764d6dc971ac0f3c13cf75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#gaf818e75dbb4e6a52192705c70dfac1fd">xsp3_histogram_clear</a> (int path, int first_chan, int num_chan, int first_frame, int num_frames)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears a section of the histogramming data buffer.  <a href="group__toplevel.html#gaf818e75dbb4e6a52192705c70dfac1fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__debug.html#ga9010c2fcebb46c1f2e595bba7560aae6">xsp3_histogram_get_dropped</a> (int path, int chan)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read how many missed UDP packets of data have been detected since last start.  <a href="group__debug.html#ga9010c2fcebb46c1f2e595bba7560aae6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#gac86da3c2d625a6a872847d2b6edca84a">xsp3_histogram_is_any_busy</a> (int path)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if any histogarmming thread for this system is busy or waiting for data.  <a href="group__toplevel.html#gac86da3c2d625a6a872847d2b6edca84a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__internal.html#gab4379e74d2774df62d86f22328049ed9">xsp3_histogram_is_busy</a> (int path, int chan)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check if the histogarmming thread is busy or waiting for data.  <a href="group__internal.html#gab4379e74d2774df62d86f22328049ed9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#ga48dac2327cda3dd127ff6f36d177a403">xsp3_histogram_read4d</a> (int path, u_int32_t *buffer, unsigned eng, unsigned aux, unsigned chan, unsigned tf, unsigned num_eng, unsigned num_aux, unsigned num_chan, unsigned num_tf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a 4 dimensional block of histogram data.  <a href="group__toplevel.html#ga48dac2327cda3dd127ff6f36d177a403"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#ga75a51e96d7ad2e2f3d4be4b787f66d9d">xsp3_histogram_read3d</a> (int path, u_int32_t *buffer, unsigned x, unsigned y, unsigned t, unsigned dx, unsigned dy, unsigned dt)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a 3 dimensional block of histogram data with aux and chan combined into "y" to suit da.server.  <a href="group__toplevel.html#ga75a51e96d7ad2e2f3d4be4b787f66d9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__toplevel.html#ga88697faf20c618ef49135fc935e4b016">xsp3_histogram_read_chan</a> (int path, u_int32_t *buffer, unsigned chan, unsigned eng, unsigned aux, unsigned tf, unsigned num_eng, unsigned num_aux, unsigned num_tf)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read a channel of histogram data.  <a href="group__toplevel.html#ga88697faf20c618ef49135fc935e4b016"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__debug.html#ga188ab7c8a9db7e7bab7d95dd8ff82150">xsp3_histogram_write_test_pat</a> (int path, <a class="el" href="xspress3_8h.html#afc4318d4a503771ce743001182202c32">Xsp3TestPattern</a> type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write a test pattern into histogramming memory.  <a href="group__debug.html#ga188ab7c8a9db7e7bab7d95dd8ff82150"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___x_s_p3_path.html">XSP3Path</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xspress3__histogram_8c.html#af45316b1e6895b7622bd9e8fa639c5b1">Xsp3Sys</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xspress3__histogram_8c.html#acc17640d251abf40921ef449251e240c">error_message</a> []</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="xspress3__histogram_8c.html#a31aeacad19264d9cad96c2ceb274456d">mutex1</a> = PTHREAD_MUTEX_INITIALIZER</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a58d0c8149f2bf2d469be2e04ddfe306f"></a><!-- doxytag: member="xspress3_histogram.c::MODULE_SIZE_X" ref="a58d0c8149f2bf2d469be2e04ddfe306f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MODULE_SIZE_X&nbsp;&nbsp;&nbsp;4096</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a96b32e8be861dde177af1049223ad939"></a><!-- doxytag: member="xspress3_histogram.c::XSP3_HIST_MOD_NAME" ref="a96b32e8be861dde177af1049223ad939" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XSP3_HIST_MOD_NAME&nbsp;&nbsp;&nbsp;30</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af2934b182242760eb6945f9fc99b9195"></a><!-- doxytag: member="xspress3_histogram.c::XSP3_UDP_HEADER_SIZE" ref="af2934b182242760eb6945f9fc99b9195" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define XSP3_UDP_HEADER_SIZE&nbsp;&nbsp;&nbsp;8</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a9d801673afc3b42c759c1d3c4686c669"></a><!-- doxytag: member="xspress3_histogram.c::read_and_histogram" ref="a9d801673afc3b42c759c1d3c4686c669" args="(void *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * read_and_histogram </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>args</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="acc17640d251abf40921ef449251e240c"></a><!-- doxytag: member="xspress3_histogram.c::error_message" ref="acc17640d251abf40921ef449251e240c" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="xspress3__udp__write_8c.html#acc17640d251abf40921ef449251e240c">error_message</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a31aeacad19264d9cad96c2ceb274456d"></a><!-- doxytag: member="xspress3_histogram.c::mutex1" ref="a31aeacad19264d9cad96c2ceb274456d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t <a class="el" href="xspress3__histogram_8c.html#a31aeacad19264d9cad96c2ceb274456d">mutex1</a> = PTHREAD_MUTEX_INITIALIZER</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="af45316b1e6895b7622bd9e8fa639c5b1"></a><!-- doxytag: member="xspress3_histogram.c::Xsp3Sys" ref="af45316b1e6895b7622bd9e8fa639c5b1" args="[]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___x_s_p3_path.html">XSP3Path</a> <a class="el" href="xspress3__udp__write_8c.html#af45316b1e6895b7622bd9e8fa639c5b1">Xsp3Sys</a>[]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Wed Oct 29 2014 09:17:10 for xspress3api by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
